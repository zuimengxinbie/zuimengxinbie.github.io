---
title: Geeker Admin
date: 2022-07-10 00:00:00
sidebar: auto
sticky: false
permalink: /pages/vue220710/
categories: 
  - æ¡†æ¶
tags: 
  - vue
---

<p align="center">
  <img width="500" src="https://dogefs.s3.ladydaily.com/~/source/wallhaven/full/d5/wallhaven-d55z2m.jpg"/>
</p>



> å¾…å®Œå–„ï¼Œæ„Ÿè°¢æŒ‡æ•™ğŸ’•
> <!-- more -->

## é¡¹ç›®åœ°å€

[Geeker-Admin](https://gitee.com/laramie/Geeker-Admin)

[é¢„è§ˆ](https://geeker-admin.vercel.app/#/login)

#### axioså°è£…

[axiosåˆå§‹åŒ–](https://gitee.com/laramie/Geeker-Admin/blob/master/src/api/index.ts)

- Loadingå¤„ç†

  > åŒä¸€æ—¶åˆ»çš„è¯·æ±‚åˆå¹¶

  ```javascript
  let needLoadingRequestCount = 0;
  export const showFullScreenLoading = () => {
      if(needLoadingRequestCount === 0){
          startLoading();
      }
      needLoadingRequestCount++
  }
  export const tryHideFullScreenLoading = () => {
      if(needLoadingRequestCount <= 0) return;
      needLoadingRequestCount--;
      if(needLoadingRequestCount === 0){
          endLoading();
      }
  }
  ```

#### æ›´æ”¹ç¯å¢ƒå˜é‡

- [ç¯å¢ƒå˜é‡](https://vitejs.cn/guide/env-and-mode.html)

  > Viteåœ¨ä¸€ä¸ªç‰¹æ®Šçš„ `import.meta.env` å¯¹è±¡ä¸Šæš´éœ²ç¯å¢ƒå˜é‡ã€‚

  - import.meta.env.mode: {string}åº”ç”¨è¿è¡Œçš„æ¨¡å¼
  - import.meta.env.BASE_URL: {string}éƒ¨ç½²åº”ç”¨æ—¶çš„åŸºæœ¬URLã€‚å®ƒç”±baseé…ç½®é¡¹å†³å®š
  - import.meta.env.PROD: {boolean}åº”ç”¨æ˜¯å¦è¿è¡Œåœ¨ç”Ÿäº§ç¯å¢ƒ
  - import.meta.env.DEV: {boolean}åº”ç”¨æ˜¯å¦è¿è¡Œåœ¨å¼€å‘ç¯å¢ƒï¼ˆæ°¸è¿œä¸`import.meta.env.PROD`ç›¸åï¼‰

- å¯¼å…¥

  `import.meta.glob`ä¸ºåŠ¨æ€å¯¼å…¥ï¼Œæ„å»ºæ—¶ï¼Œä¼šåˆ†ç¦»ä¸ºç‹¬ç«‹çš„chunk

  `import.meta.globEager`ä¸ºç›´æ¥å¼•å…¥

#### å…¨å±€å¼•å…¥SCSSæ–‡ä»¶

> åœ¨viteé¡¹ç›®ä¸­ï¼Œæœ‰æ—¶éœ€è¦æˆ‘ä»¬å…¨å±€å¼•å…¥csså˜é‡ã€scsså˜é‡ã€‚æˆ–è€…å…¨å±€å¼•å…¥scssæ ·å¼æ–‡ä»¶

```javascript
// vite.config.js
css: {
	preprocessorOption: {
        // define global scss variable
        scss: {
            additionalData: `@import '@/styles/variable.scss'`
        }
    }
}
```

#### TSä¹‹declareçš„ç®€å•ä½¿ç”¨

1. `.d.ts`çš„é¡¶çº§å£°æ˜å¿…é¡»ä»¥`declare`å¼€å¤´

2. ä»¥`declare`å£°æ˜çš„å˜é‡å’Œæ¨¡å—åï¼Œå…¶ä»–åœ°æ–¹ä¸éœ€è¦å¼•å…¥ï¼Œå³å¯ç›´æ¥ä½¿ç”¨

   > æ³¨æ„æˆ‘ä»¬éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸‹ï¼Œå¼•å…¥å£°æ˜æ–‡ä»¶

   ```javascript
   {
   	"compilerOptions": {},
   	"include": ["src/**/*.ts", "src/**/*.d.ts", "src/**/*.tsx", "src/**/*.vue", "vite.config.ts"]
   }
   ```

- å£°æ˜ä¸€ä¸ªç±»å‹

  ```javascript
  declare type Asd {
  	name: string
  }
  ```

- declareå£°æ˜ä¸€ä¸ªæ¨¡å—

  ```javascript
  declare modules '*.css'
  declare modules '*.less'
  declare modules '*.png'
  ```

- declareå£°æ˜ä¸€ä¸ªå˜é‡

  ```
  declare var jQuery: (selector: string) => any;
  jQuery('#box')
  ```

#### CRLFå’ŒLFåœ¨è·¨å¹³å°å·¥ä½œè§£å†³ï¼ˆæ¢è¡Œç±»å‹ï¼‰

|            windows-CRLF            |   max/linux-LF    |           CR           |
| :--------------------------------: | :---------------: | :--------------------: |
| å›è½¦æ¢è¡Œï¼ˆcarriagereturnlinefeedï¼‰ | æ¢è¡Œï¼ˆline feedï¼‰ | å›è½¦ï¼ˆcarriagereturnï¼‰ |

- è§£å†³æ–¹æ¡ˆ

  > gitå‘½ä»¤è¡Œ(windowsä¸‹)

  ```
  git config --global core.autocrlf false
  ```

  ![img](https://i.niupic.com/images/2022/07/28/a1ew.png)

#### try/catch/finally

- è¯­æ³•

  > ä½¿ç”¨åœºæ™¯ï¼š æ¥å£è¯·æ±‚æˆåŠŸæˆ–å¤±è´¥æ—¶å°† loading ç§»é™¤

  ```javascript
  try {
  	tryCode - å°è¯•æ‰§è¡Œä»£ç å—	
  }
  catch(err) {
      catchCode - æ•è·é”™è¯¯çš„ä»£ç å—
  }
  finally {
      finallyCode - æ— è®º try / catch ç»“æœéƒ½ä¼šæ‰§è¡Œçš„ä»£ç å—
  }
  ```

  [å°è¯•ä¸€ä¸‹](https://www.runoob.com/try/try.php?filename=tryjsref_state_finally_error)

#### restcåˆä½“éªŒ

[å®˜ç½‘](https://elemefe.github.io/restc/)

[ä½“éªŒ](https://mock.mengxuegu.com/mock/629d727e6163854a32e8307e/geeker/auth/buttons)

## å…¶ä»–

- ä¸ºç»„ä»¶æ ·å¼è®¾ç½®ä½œç”¨åŸŸ

  > å•æ–‡ä»¶ç»„ä»¶ã€‚ä½œç”¨åŸŸä¹Ÿå¯ä»¥é€šè¿‡ **CSS Modules**æˆ–è€…å…¶å®ƒçš„åº“/çº¦å®šæ¥å®ç°
  >
  > å®˜æ–¹ï¼š æˆ‘ä»¬**æ›´å€¾å‘äº**é€‰ç”¨åŸºäº **class** çš„ç­–ç•¥ï¼Œ è€Œä¸æ˜¯ scoped attribute

  - ä½¿ç”¨`scoped`attribute

  - ä½¿ç”¨`CSS` modules

    > å¼•è¨€ï¼š cssç›¸å…³é…ç½®

    ```javascript
    css: {
        extract: false,
        sourceMap: true,
        requireModuleExtension: true,
        loaderOptions: {
            css: {
                modules: {
                    localIdentName: '[local]_[hash:base64:8]' //è®¾å®šCSS Modules å‘½åè§„åˆ™
                }
            }
        }    
    }
    ```

    ```html
    <template>
    	<button :class="[$style.button, $style.buttonClose]">
            x
        </button>
    </template>
    <!-- ä½¿ç”¨ CSS modules -->
    <style module>
        .button {
            border: none;
            border-radius: 2px
        }
        .buttonClose {
            background-color: red
        }
    </style>
    ```

  - ä½¿ç”¨BEMçº¦å®š

    > CSSä¸­BEMå‘½åè§„èŒƒ
    >
    > "B"  : block
    >
    > "E"  : element
    >
    > "M" : modifier
    >
    > -ä¸­åˆ’çº¿ï¼š ä½œä¸ºè¿å­—ç¬¦ä½¿ç”¨ï¼Œè¡¨ç¤ºæŸä¸ªå—æˆ–è€…æŸä¸ªå­å…ƒç´ çš„å¤šä¸ªå•è¯ä¹‹é—´çš„è¿æ¥è®°å·
    >
    > __åŒä¸‹åˆ’çº¿ï¼š ç”¨æ¥è¿æ¥å—å’Œå—çš„å­å…ƒç´ 
    >
    > _å•ä¸‹æ»‘çº¿ï¼š å•ä¸‹åˆ’çº¿ç”¨æ¥æè¿°ä¸€ä¸ªå—æˆ–è€…å—çš„å­å…ƒç´ çš„ä¸€ç§çŠ¶æ€
